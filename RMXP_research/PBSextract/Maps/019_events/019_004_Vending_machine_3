[EVENT]
xy=[19, 7]


[PAGE]



if s:eventDirection(:player) == N
  Label Start
  Show Text "It's a vending machine.\\n Which drink would you like?\\G"
  Show Choices choices=['Fresh Water - $200', 'Soda Pop - $300', 'Lemonade - $350', 'Cancel'], default=4
  When 'Fresh Water - $200'
    if :Gold >= 200
      if s:$PokemonBag.pbCanStore?(:FRESHWATER)
        :Gold -= 200
        s:$PokemonBag.pbStoreItem(:FRESHWATER)
        Show Text "\\GA Fresh Water dropped down!"
        :TempPokemonChoice = s:randint(0,10)
        if :TempPokemonChoice == 0
          if s:$PokemonBag.pbCanStore?(:FRESHWATER)
            s:$PokemonBag.pbStoreItem(:FRESHWATER)
            Show Text "\\GBonus! Another Fresh Water dropped down."
          
        
        Goto Start
      Else
        Show Text "\\GYou have no room left in the Bag."
      
    Else
      Show Text "\\GYou don't have enough money."
    
  When 'Soda Pop - $300'
    if :Gold >= 300
      if s:$PokemonBag.pbCanStore?(:SODAPOP)
        :Gold -= 300
        s:$PokemonBag.pbStoreItem(:SODAPOP)
        Show Text "\\GA Soda Pop dropped down!"
        :TempPokemonChoice = s:randint(0,10)
        if :TempPokemonChoice == 0
          if s:$PokemonBag.pbCanStore?(:SODAPOP)
            s:$PokemonBag.pbStoreItem(:SODAPOP)
            Show Text "\\GBonus! Another Soda Pop dropped down."
          
        
        Goto Start
      Else
        Show Text "\\GYou have no room left in the Bag."
      
    Else
      Show Text "\\GYou don't have enough money."
    
  When 'Lemonade - $350'
    if :Gold >= 350
      if s:$PokemonBag.pbCanStore?(:LEMONADE)
        :Gold -= 350
        s:$PokemonBag.pbStoreItem(:LEMONADE)
        Show Text "\\GA Lemonade dropped down!"
        :TempPokemonChoice = s:randint(0,10)
        if :TempPokemonChoice == 0
          if s:$PokemonBag.pbCanStore?(:LEMONADE)
            s:$PokemonBag.pbStoreItem(:LEMONADE)
            Show Text "\\GBonus! Another Lemonade dropped down."
          
        
        Goto Start
      Else
        Show Text "\\GYou have no room left in the Bag."
      
    Else
      Show Text "\\GYou don't have enough money."
    
  When 'Cancel'
    Show Text "\\GDecided not to buy a drink."
Else
[end]

