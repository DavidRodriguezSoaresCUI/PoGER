[EVENT]

{
  "_class": "Event",
  "name": "Kurt",
  "x": 7,
  "y": 4
}


[PAGE]

{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": null,
    "switch2": null,
    "self_switch": null,
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "NPC 18",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 0,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onPlayerAction"
}


Conditional Branch, :C is OFF
  Show Text, "\\bHello! I'm Kurt!"
  Show Text, "\\bI specialise in turning Apricorns into Poké Balls."
  Show Text, "\\bIf you like, I can convert one of yours into a Poké ",   "Ball."
  Control Self Switch, :C, ON
Else
  Show Text, "\\bHello again."
Branch END
Show Text, "\\bDo you have an Apricorn for me?"
Show Choices, ['Yes', 'No'], default=2
When 'Yes'
  Show Text, "\\bWhich Apricorn would you like me to convert?"
  Script, "pbChooseApricorn(8)"
  Conditional Branch, :Apricorn being converted == 0
    # "Player didn't choose an Apricorn."
    Show Text, "\\bLet me know when you want me to convert an ",     "Apricorn for you."
  Else
    # "Player chose an Apricorn."
    Script, "$PokemonBag.pbDeleteItem(pbGet(8))"
    Script, "pbSet(3,PBItems.getName(pbGet(8)))"
    Show Text, "\\bOkay. I'll turn your \\v[3] into a Poké Ball for you."
    Show Text, "\\bI should be finished by tomorrow."
    # "Convert Apricorn into Ball now."
    Script, "pbConvertItemToItem(8,[",     "   :REDAPRICORN,:LEVELBALL,",     "   :YLWAPRICORN,:MOONBALL,",     "   :BLUAPRICORN,:LUREBALL,",     "   :GRNAPRICORN,:FRIENDBALL,",     "   :PNKAPRICORN,:LOVEBALL,",     "   :WHTAPRICORN,:FASTBALL,",     "   :BLKAPRICORN,:HEAVYBALL])"
    Script, "pbSetEventTime"
  Branch END
When 'No'
  # "Player doesn't want to choose an Apricorn."
  Show Text, "\\bCome back when you have an Apricorn for me."


[PAGE]

{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": null,
    "switch2": null,
    "self_switch": "B",
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "NPC 18",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 0,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onPlayerAction"
}


Conditional Branch, :Apricorn being converted > 0
  Show Text, "\\bI've been waiting for you. I've completed the Poké ",   "Ball you asked me to make."
  Conditional Branch, Kernel.pbReceiveItem(pbGet(8))
    Control Variables, Apricorn being converted = 0
    Control Self Switch, :B, OFF
  Else
    Show Text, "\\bYou have no room left. Make room, then come see ",     "me."
  Branch END
Else
  Show Text, "\\bI tried making a Poké Ball out of what you gave me, ",   "but it didn't work."
  Show Text, "\\bSorry."
  Control Self Switch, :B, OFF
Branch END


[PAGE]

{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": null,
    "switch2": null,
    "self_switch": "A",
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "NPC 18",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 0,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onPlayerAction"
}


Show Text, "\\bI'm still working on your Apricorn. Come back later."


[PAGE]

{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": "23",
    "switch2": null,
    "self_switch": null,
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "NPC 18",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 0,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onAutorun"
}


Control Self Switch, :A, OFF
Control Self Switch, :B, ON
Script, "setTempSwitchOn(\"A\")"
