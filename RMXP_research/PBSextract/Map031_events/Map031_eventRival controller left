[EVENT]
{
  "_class": "Event",
  "name": "Rival controller left",
  "x": 22,
  "y": 13
}

[PAGE]
{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": null,
    "switch2": null,
    "self_switch": null,
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 0,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onPlayerTouch"
}

Script, "pbTrainerIntro(:RIVAL1)"
# "Position the Rival event level with the player."
Set Event Location
Set Move Route, subject_to_string:Undocumented subject 14
  WTW ON
  Move Down
  Move Down
  Move Down
  Move Down
  Move Down
  Move Down
  WTW OFF
Wait for Move's Completion
Show Text, "\\bHi \\PN! I'm your Rival!"
Show Text, "\\bDo you want to name me, or leave me with my ", "default name as defined in trainers.txt?"
Show Choices, ['Rename', 'Cancel'], default=2
When 'Rename'
  Script, "pbSet(12,pbEnterNPCName(",   "  \"Rival's name?\",1,10,\"Blue\",",   "  \"trchar004\")",   ")"
  Show Text, "\\bSo my name is \\v[12], huh? Okay then."
When 'Cancel'
  Script, "pbSet(12,nil)"
Show Text, "\\bLet's get down to the battle!"
Conditional Branch, :Starterchoice == 1
  # "Player chose Bulbasaur, rival has Charmander."
  Conditional Branch, pbTrainerBattle(:RIVAL1,"Blue",_I("Not too shabby."),false,1)
    Control Self Switch, :A, ON
  Branch END
Else
  Conditional Branch, :Starterchoice == 2
    # "Player chose Charmander, rival has Squirtle."
    Conditional Branch, pbTrainerBattle(:RIVAL1,"Blue",_I("Not too shabby."),false,2)
      Control Self Switch, :A, ON
    Branch END
  Else
    # "Player chose Squirtle, rival has Bulbasaur."
    Conditional Branch, pbTrainerBattle(:RIVAL1,"Blue",_I("Not too shabby."),false,0)
      Control Self Switch, :A, ON
    Branch END
  Branch END
Branch END
Conditional Branch, :A is ON
  Show Text, "\\bI'm going to leave now. Smell you later!"
  # "Move the Rival event off-screen."
  Set Move Route, subject_to_string:Undocumented subject 14
    WTW ON
    Move Up
    Move Up
    Move Up
    Move Up
    Move Up
    Move Up
    WTW OFF
  Wait for Move's Completion
  # "Clear the rival's event."
  Script, "pbSetSelfSwitch(14,\"A\",true)"
  # "Disable both controller events."
  Control Self Switch, :A, ON
  Script, "pbSetSelfSwitch(16,\"A\",true)"
Branch END
Script, "pbTrainerEnd"

[PAGE]
{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": null,
    "switch2": null,
    "self_switch": "A",
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 0,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onPlayerAction"
}

