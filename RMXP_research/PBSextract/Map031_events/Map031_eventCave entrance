[EVENT]
{
  "_class": "Event",
  "name": "Cave entrance",
  "x": 55,
  "y": 8
}

[PAGE]
{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": null,
    "switch2": null,
    "self_switch": null,
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 3,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onPlayerTouch"
}

Play SE, {"_class": "AudioFile", "name": "Door exit", "volume": 80, "pitch": 100}
Change Screen Color Tone, [255, 255, 255, 255]
Wait, 8
Script, "pbCaveEntrance"
Transfer Player, destination=(34,23,17), direction="Up", fading="NoFading"
Fadein

[PAGE]
{
  "_class": "Page",
  "condition": {
    "_class": "Page::Condition",
    "switch1": "22",
    "switch2": null,
    "self_switch": null,
    "variable": null,
    "variable_value": null
  },
  "graphic": {
    "_class": "Page::Graphic",
    "tile_id": 0,
    "character_name": "",
    "character_hue": 0,
    "direction": "Down",
    "pattern": 3,
    "opacity": 255,
    "blend_type": "Normal"
  },
  "move": "Fixed",
  "move_speed": 3,
  "move_frequency": 3,
  "walk_anime": true,
  "step_anime": false,
  "direction_fix": false,
  "through": false,
  "always_on_top": false,
  "trigger": "onAutorun"
}

Conditional Branch, get_character(0).onEvent?
  Set Move Route, :self
    Play SE
    Move Down
  Wait for Move's Completion
Branch END
Script, "setTempSwitchOn(\"A\")"
